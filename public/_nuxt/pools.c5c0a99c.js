import{_ as H}from"./coin-pair-name.a83867d4.js";import{a as O,aa as Z,ab as j,A as K,Z as F,e as L,b as R,ae as J,i as Q,a6 as T,Y as X,l as W,o as t,m as a,p as n,q as P,v as b,t as d,c as B,G as S,w as z,S as E,B as x,a3 as ee,r as _,$ as oe,a2 as g,h as te,af as se,a8 as ne,s as U,C as ae,K as ie,L as V,M,y as le,z as re}from"./entry.cb822d2d.js";import{_ as ce}from"./img-no-Positions_2x.7a5d8c0c.js";import{_ as de}from"./img-no-Positions_2x.46d8a631.js";const ue=O({props:{pItem:{type:Object,required:!0}},setup(e){const r=Z(j,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0}),u=K(),i=F(),C=L(()=>i),$=R(),c=L(()=>$);function m(){e.pItem&&u.push(`/pools-management-remove?from=${e.pItem.coinA.symbol}&to=${e.pItem.coinB.symbol}`)}function o(){e.pItem&&u.push(`/pools-liquidity-add?from=${e.pItem.coinA.symbol}&to=${e.pItem.coinB.symbol}`)}function f(p){const y=p.balance,w=X(y).div(Math.pow(10,p.decimals)).toString();return T(w,p.decimals)}return{indicator:r,thousands:J,importIcon:Q,router:u,toRemove:m,toAdd:o,wallet:C,addCommom:T,getLpView:f,index:c}}});const me={class:"pools-position-item"},pe={class:"card-header"},ve={key:0,class:"label green"},fe={key:1,class:"label blue"},he={key:2,class:"label purple"},_e={class:"induction"},ye={class:"item"},be={class:"induction-text"},Le={key:0,class:"induction-value"},Ce={class:"card-content"},$e={key:0,class:"content-top"},we={class:"top"},Ie={class:"text"},ke={class:"value"},Se={key:0},ge={class:"bottom"},Be={class:"btn-box"};function Ae(e,r,u,i,C,$){const c=H,m=E,o=x;return t(),a("div",me,[n("div",pe,[P(c,{"from-coin":e.pItem.coinA,"to-coin":e.pItem.coinB},null,8,["from-coin","to-coin"]),e.index.chainName==="Aptos"&&e.pItem.coinA.name.toLowerCase().includes("z")||e.pItem.coinB.name.toLowerCase().includes("z")?(t(),a("div",ve," LayerZero ")):b("",!0),e.index.chainName==="Aptos"&&e.pItem.coinA.name.toLowerCase().includes("wo")||e.pItem.coinB.name.toLowerCase().includes("wo")?(t(),a("div",fe," Wormhole ")):b("",!0),e.index.chainName==="Aptos"&&e.pItem.coinA.name.toLowerCase().includes("ce")||e.pItem.coinB.name.toLowerCase().includes("ce")?(t(),a("div",he," Celer ")):b("",!0)]),n("div",_e,[n("div",ye,[n("div",be,d(e.$t("common.totalLiquidity")),1),e.pItem.totalLpUSD?(t(),a("div",Le,d(e.pItem.totalLpUSD&&`$ ${e.addCommom(e.pItem.totalLpUSD,2)}`),1)):(t(),B(m,{key:1,indicator:e.indicator},null,8,["indicator"]))])]),n("div",Ce,[e.pItem&&Number(e.pItem.balance)&&e.wallet.connected?(t(),a("div",$e,[n("div",we,[n("div",Ie,d(e.$t("common.yourPoolTokens")),1),n("div",ke,[n("p",null,d(e.getLpView(e.pItem)),1),S(" \xA0\xA0 "),e.pItem.myBalanceUSD?(t(),a("span",Se," ~ $"+d(e.addCommom(e.pItem.myBalanceUSD,2)),1)):b("",!0)])]),n("div",ge,[n("div",Be,[P(o,{class:"cancel-btn",onClick:e.toRemove},{default:z(()=>[S(d(e.$t("button.remove")),1)]),_:1},8,["onClick"]),P(o,{class:"confirm-btn",onClick:e.toAdd},{default:z(()=>[S(d(e.$t("button.add")),1)]),_:1},8,["onClick"])])])])):(t(),B(o,{key:1,class:"add-big-btn",onClick:r[0]||(r[0]=f=>e.router.push(`/pools-liquidity-add?from=${e.pItem.coinA.symbol}&to=${e.pItem.coinB.symbol}`))},{default:z(()=>[S(d(e.$t("button.addLiquidity")),1)]),_:1}))])])}const Ne=W(ue,[["render",Ae],["__scopeId","data-v-ea2ac5ce"]]),qe=O({setup(){const{t:e}=ee(),r=_([e("tab.all"),e("tab.layerZero"),e("tab.wormhole"),e("tab.celer")]),u=_(e("tab.all")),i=_(""),C=Z(j,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0}),$=K(),c=_(!1),m=_(!1),o=_(null),f=_(0),p=oe(),y=L(()=>p),w=R(),A=L(()=>w.chainName),v=_([]),N=R();L(()=>N);const G=async()=>{m.value=!0,p.setMyLplist(I.value.address||""),N.getStatsData(),setTimeout(()=>{m.value=!1},1e3)},Y=F(),I=L(()=>Y);g(o,s=>{k(o.value)}),g(u,s=>{s==e("tab.all")?i.value="":s==e("tab.layerZero")?i.value="z":s==e("tab.wormhole")?i.value="wo":s==e("tab.celer")&&(i.value="ce"),k(o.value)});const k=s=>{if(c.value=!0,y.value.myLplist.length>0&&(v.value=y.value.myLplist),s){const h=v.value.filter(l=>l.symbol.toLowerCase().includes(s.toLowerCase())||l.coinA.name.toLowerCase().includes(s.toLowerCase())||l.coinB.name.toLowerCase().includes(s.toLowerCase()));if(u.value){const l=h.filter(D=>D.symbol.toLowerCase().includes(i.value.toLowerCase())||D.coinA.name.toLowerCase().includes(i.value.toLowerCase())||D.coinB.name.toLowerCase().includes(i.value.toLowerCase()));v.value=l,c.value=!1}else v.value=h,c.value=!1}else if(u.value){const h=v.value.filter(l=>l.symbol.toLowerCase().includes(i.value.toLowerCase())||l.coinA.name.toLowerCase().includes(i.value.toLowerCase())||l.coinB.name.toLowerCase().includes(i.value.toLowerCase()));v.value=h,c.value=!1}};g(()=>[y.value.lpTokens,A.value],([s,h])=>{if(s&&!ne(s)){const l=Object.values(s);h==="Sui"&&l[0].address.includes("PoolLiquidityCoin")?v.value=[]:(v.value=Object.values(s),p.setMyLplist(I.value.address))}},{immediate:!0}),g(()=>[y.value.myLplist,A.value],([s,h])=>{var l;s&&s.length>0&&(h==="Sui"&&((l=s[0])==null?void 0:l.address.includes("PoolLiquidityCoin"))||k(o.value))},{immediate:!0});let q=null;return te(()=>{q=window.setInterval(()=>{p.setMyLplist(I.value.address||""),N.getStatsData()},12e4)}),se(()=>{window.clearInterval(q),clearInterval(q)}),{indexStore:w,currentTab:u,tabList:r,indicator:C,wallet:I,list:v,loading:c,clickRefresh:G,refresh:m,router:$,liquidity:y,searchKey:o,updateLpList:k,totalTVL:f,addCommom:T,chainName:A}}});const De=e=>(le("data-v-a3df9471"),e=e(),re(),e),Pe={class:"pools-position-list-container"},ze={class:"position-title"},Re=De(()=>n("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),Te=[Re],Ue={class:"search-input"},Ve=["placeholder"],Me={key:0,class:"tab-list"},Oe=["onClick"],Ze={class:"item"},je={key:1},Ke={key:0,class:"position-list"},Fe={key:1,class:"no-data"},We={key:0,src:ce},Ee={key:1,src:de};function Ge(e,r,u,i,C,$){const c=Ne,m=E;return t(),a("div",Pe,[n("div",ze,[n("div",null,d(e.$t("menu.pools")),1),(t(),a("svg",{"aria-hidden":"true",class:U(e.refresh?"refresh refresh-icon ":"refresh-icon"),onClick:r[0]||(r[0]=(...o)=>e.clickRefresh&&e.clickRefresh(...o))},Te,2))]),n("div",Ue,[ae(n("input",{"onUpdate:modelValue":r[1]||(r[1]=o=>e.searchKey=o),onkeyup:"value=value.replace(/[^A-Za-z0-9]+$/g,'')",placeholder:e.$t("inputPlaceholder.liquidityPlaceholder")},null,8,Ve),[[ie,e.searchKey]]),n("div",{class:"search-icon",onClick:r[2]||(r[2]=o=>e.updateLpList(e.searchKey))})]),e.chainName!=="Sui"?(t(),a("div",Me,[(t(!0),a(V,null,M(e.tabList,(o,f)=>(t(),a("div",{key:f,class:U(["item-container",e.currentTab==o?"item-container-active item-container":"item-container"]),onClick:p=>e.currentTab=o},[n("div",Ze,d(o),1)],10,Oe))),128))])):b("",!0),e.loading?(t(),B(m,{key:2})):(t(),a("div",je,[e.list&&e.list.length>0?(t(),a("div",Ke,[(t(!0),a(V,null,M(e.list,(o,f)=>(t(),B(c,{key:f,"p-item":o},null,8,["p-item"]))),128))])):b("",!0),e.list&&e.list.length<=0?(t(),a("div",Fe,[e.indexStore.theme=="default"?(t(),a("img",We)):(t(),a("img",Ee)),n("span",null,d(e.$t("common.poolsNotFound")),1)])):b("",!0)]))])}const Xe=W(qe,[["render",Ge],["__scopeId","data-v-a3df9471"]]);export{Xe as default};
