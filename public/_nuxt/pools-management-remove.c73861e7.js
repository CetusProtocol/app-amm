import{_ as Fe}from"./back.2989484d.js";import{_ as Pe}from"./assets-card.55764d85.js";import{_ as Ue}from"./network-tips.373eef00.js";import{_ as De}from"./swap-setting.665df24b.js";import{a as oe,W as ye,b as ne,G as ge,am as $e,J as be,e as q,I as ke,r as l,i as ie,j as Se,k as B,l as se,ab as _e,o as t,c as b,w as M,p as o,t as i,M as N,m as d,q as w,B as te,y as ae,z as le,ar as je,v as A,H as W,L as We,A as Xe,a9 as Ye,a7 as X,an as Ee,as as He,ao as T,K as ze,ak as x,ap as he,aa as ee,s as Ce,ad as Ge,ae as Je,N as Ke,at as Qe,S as Ze}from"./entry.628ea594.js";/* empty css               *//* empty css              */const xe=oe({components:{Modal:ye},props:{fromCoin:{type:Object,required:!0},toCoin:{type:Object,required:!0},fromCoinAmount:{type:String,required:!0},toCoinAmount:{type:String,required:!0},burnValue:{type:String,required:!0},fixedFromCoin:{type:Boolean,required:!0},liquidityBalance:{type:String,required:!0},currentLpInfo:{type:Object,required:!0},slideVal:{type:String,required:!0}},emits:["on-close","to-remove"],setup(e,n){const p=ne();ge(),$e();const V=be();q(()=>V),ke();const O=l(p.slippage||.5),v=l(!0),k=l(!1);function r(C){v.value=C}return{slippage:O,importIcon:ie,fixD:Se,decimalFormat:B,direct:v,changeDirect:r,rateChange:k,clickNextBtn:async()=>{n.emit("to-remove")}}}});const re=e=>(ae("data-v-5afad38e"),e=e(),le(),e),eo=re(()=>o("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),oo={class:"remove-confirm-container"},no={class:"card-content"},io={class:"top"},so={class:"coin"},to=["src"],ao=re(()=>o("div",{class:"svg-box"},[o("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon-add1"})])],-1)),lo={class:"coin"},ro=["src"],uo={class:"bottom"},mo={class:"desc"},co={class:"induction"},vo={class:"item"},po={class:"induction-text"},fo={class:"induction-value induction-value-change"},ho={key:0},Co={key:1},yo=re(()=>o("use",{"xlink:href":"#icon-a-icon-change2"},null,-1)),go=[yo],$o={class:"item"},bo={class:"induction-text"},ko={class:"induction-value"};function So(e,n,p,V,O,v){const k=te,r=_e("Modal");return t(),b(r,{width:"440px",visible:!0,footer:null,title:e.$t("modal.addLiquidityModalTitle"),class:"remove-confirm-modal",onCancel:n[1]||(n[1]=c=>e.$emit("on-close"))},{closeIcon:M(()=>[eo]),default:M(()=>[o("div",oo,[o("div",no,[o("div",io,[o("div",so,[o("img",{src:e.fromCoin.logoURI||e.importIcon(`/image/coins/${e.fromCoin.symbol.toLowerCase()}.png`)},null,8,to),o("p",null,i(e.fromCoinAmount),1),N(" \xA0\xA0 "),o("p",null,i(e.fromCoin.symbol),1)]),ao,o("div",lo,[o("img",{src:e.toCoin.logoURI||e.importIcon(`/image/coins/${e.toCoin.symbol.toLowerCase()}.png`)},null,8,ro),o("p",null,i(e.toCoinAmount),1),N(" \xA0\xA0 "),o("p",null,i(e.toCoin.symbol),1)])]),o("div",uo,[o("div",mo,i(e.$t("modal.removeLiquidityText",{slippage:e.slippage+"%"})),1),o("div",co,[o("div",vo,[o("div",po,i(e.$t("common.rate")),1),o("div",fo,[e.rateChange?(t(),d("span",Co,"1 "+i(e.toCoin.symbol)+" \u2248 "+i(e.fixD(1/e.currentLpInfo.price,2))+" "+i(e.fromCoin.symbol),1)):(t(),d("span",ho,"1 "+i(e.fromCoin.symbol)+" \u2248 "+i(e.fixD(e.currentLpInfo.price,2))+" "+i(e.toCoin.symbol),1)),(t(),d("svg",{class:"icon-change","aria-hidden":"true",onClick:n[0]||(n[0]=c=>e.rateChange=!e.rateChange)},go))])]),o("div",$o,[o("div",bo,i(e.fromCoin.symbol)+" - "+i(e.toCoin.symbol)+" "+i(e.$t("modal.removeLiquidityLpBurned")),1),o("div",ko,i(e.burnValue),1)])])])])]),w(k,{class:"big-btn swap-confirm-btn",loading:e.loading,onClick:e.clickNextBtn},{default:M(()=>[N(i(e.$t("button.confirmRemove")),1)]),_:1},8,["loading","onClick"])]),_:1},8,["title"])}const _o=se(xe,[["render",So],["__scopeId","data-v-5afad38e"]]),Lo=oe({components:{Modal:ye},props:{fromCoin:{type:Object,required:!0},toCoin:{type:Object,required:!0},fee:{type:String,required:!0}},setup(){const e=ne(),n=q(()=>e);return{config:q(()=>je[n.value.chainName]),importIcon:ie,store:n}}}),wo=""+new URL("img-RemoveSuccessful_2x.38742a62.png",import.meta.url).href;const Le=e=>(ae("data-v-72a1ef94"),e=e(),le(),e),Io=Le(()=>o("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),Ao={class:"remove-success-container"},qo={class:"left"},Ro=Le(()=>o("div",{class:"tit"},"Remove Successful",-1)),To={class:"desc"},Bo=["href"],Mo={key:0,src:wo,alt:""},No=["href"];function Oo(e,n,p,V,O,v){const k=te,r=_e("Modal");return t(),b(r,{visible:!0,class:"remove-success",centered:"",title:"",width:"440px",footer:null,onCancel:n[1]||(n[1]=c=>e.$emit("onClose"))},{closeIcon:M(()=>[Io]),default:M(()=>[o("div",Ao,[o("div",qo,[Ro,o("div",To,[N(" Provide Liquidity for "),o("a",{href:`${e.config.cmmSite}/deposit?tokena=${e.fromCoin.address}&tokenb=${e.toCoin.address}&fee=${e.fee}`}," Cetus concentrated liquidity pools ",8,Bo),N(" to earn more. ")])]),e.store.theme=="default"?(t(),d("img",Mo)):A("",!0)]),w(k,{class:"big-btn deposit-btn",onClick:n[0]||(n[0]=c=>e.$emit("onClose"))},{default:M(()=>[o("a",{href:`${e.config.cmmSite}/deposit?tokena=${e.fromCoin.address}&tokenb=${e.toCoin.address}&fee=${e.fee}`}," Deposit ",8,No)]),_:1})]),_:1})}const Vo=se(Lo,[["render",Oo],["__scopeId","data-v-72a1ef94"]]),Fo=oe({setup(e,n){const{t:p,locale:V}=ge(),O=W(We,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0}),v=Xe(),k=be(),r=q(()=>k),c=ke(),C=q(()=>c);let R=l(!1),Y=l(!1),E=l(!1),F=l(!1),J=l(!1),P=l(!1);const a=l(!1),U=l(!0),ue=l(!0),y=l(""),S=l(""),I=l("50"),we=l({});l({}),Ye(()=>{ee(C.value.lpTokens)||(we.value=C.value.lpTokens)});const de=ne(),D=q(()=>de),Ie=q(()=>D.value.slippage),f=l(),h=l(),u=l({}),K=l(""),me=l(""),Ae=q(()=>Number(y.value)?p("button.remove"):p("button.enterAmount"));X(()=>[D.value.chainName,C.value.lpTokens],([s,m])=>{s&&!ee(m)&&(f.value=c.tokens[v.currentRoute.value.query.from],h.value=c.tokens[v.currentRoute.value.query.to])},{immediate:!0});const qe=()=>{a.value=!0,setTimeout(()=>{a.value=!1},1e3),r.value.address&&c.setMyLplist(r.value.address)},Re=[{name:"25%",value:25},{name:"50%",value:50},{name:"75%",value:75},{name:p("button.max"),value:100}],Te=()=>{const s=f.value;f.value=h.value,h.value=s,P.value=!0,setTimeout(()=>{P.value=!1},300)},Be=s=>{s==="fromCoin"?(U.value=!0,y.value=f.value&&B(f.value.balance,u.value.coinA.value.decimals)||""):(U.value=!1,S.value=h.value&&B(h.value.balance,u.value.coinB.value.decimals)||"")},j=$e();X(I,Ee((s,m)=>{if(I.value=s,s==0)y.value="0",S.value="0";else if(s>100&&(I.value="100"),s!==m){const g=Number(I.value)/100;I.value==="100"?Q(u.value.balanceOrigin):Q(x(u.value.balanceOrigin).mul(g).toString())}},500));const ce=l("");X(u,()=>{if(u.value){const s=c.cmmLpTokens.filter(m=>m.coinA.address==u.value.coinA.address&&m.coinB.address==u.value.coinB.address);s.length>0&&(ce.value=s[0].fee,F.value=!0),Q(x(u.value.balanceOrigin).mul(Number(I.value)/100).toString())}});const Q=async s=>{if(!f.value||!h.value)return;const m=he(f.value.symbol,h.value.symbol,c.lpTokens);if(K.value=s,me.value=B(x(s).div(Math.pow(10,m.decimals)).toString(),m.decimals)||"",s!==""&&s!==0&&s!=="0"){let g={coinX:m.coinA,coinY:m.coinB,liquidity:s};if(g)try{const _=await j.getCoinXYForLiquidity(g);y.value=B(_.coinXAmount,u.value.coinA.decimals)||"",S.value=B(_.coinYAmount,u.value.coinB.decimals)||""}catch{}}else S.value="",y.value=""},H=l(!1),{$notify:Me}=He(),{setIsShowSuccess:ve,setIsShowRejected:pe,setIsShowWaiting:z,setTransactionDesc:Ne,setTransactionTxid:fe}=de,Oe=async()=>{var s,m;if(Number(T(y.value,f.value.decimals))<=0||Number(T(S.value,h.value.decimals))<=0)Me.error({icon:W("svg",{class:{icon:!0},"aria-hidden":!0},[W("use",{"xlink:href":"#icon-a-icon-Shutdown"})]),message:W("div",{class:"notification-title"},[W("span",{innerHTML:"Error"},null)]),description:"This transaction would fail",duration:4.5,class:"ant-notification-copy ant-notification-error"});else{Y.value=!1,H.value=!0,fe(""),Ne(p("tips.removeLiquidiyText",{from:`${T(y.value,f.value.decimals)} ${u.value.coinA.symbol}`,to:`${T(S.value,h.value.decimals)} ${u.value.coinB.symbol}`})),z(!0);try{const g=l({});g.value={coinX:u.value.coinA,coinY:u.value.coinB,liquidity:parseInt(K.value),slippage:Number(D.value.slippage)/100};const _=await j.removeLiquidityTransactionPayload(g.value);let L;if(D.value.chainName!=="Aptos"){const $=await r.value.currentWallet.signAndExecuteTransaction(_);L=j.handleTx($)}else L=await r.value.currentWallet.signAndSubmitTransaction(_);if(L&&L.hash){fe(L.hash),z(!1),ve(!0);const $={title:p("common.removeLiquidity"),desc:p("tips.removeSuccessText",{from:`${T(y.value,f.value.decimals)} ${u.value.coinA.symbol}`,to:`${T(S.value,h.value.decimals)} ${u.value.coinB.symbol}`}),hash:L.hash,descTransactions:`Remove ${y.value} ${(s=f.value)==null?void 0:s.symbol} and ${S.value} ${(m=h.value)==null?void 0:m.symbol} 
             from the pool`,sender:r.value.address,chainName:D.value.chainName};j.showTransitionPending($),await j.watchTransaction($)&&(F.value?(ve(!1),E.value=!0):(Number(I.value)==100&&v.push("/pools"),setTimeout(()=>{c.setMyLplist(r.value.address)},3e3),setTimeout(()=>{c.setMyLplist(r.value.address)},6e3)))}else z(!1),pe(!0);H.value=!1}catch{H.value=!1,z(!1),pe(!0)}}};return X(()=>[r.value.address,C.value.lpTokens],([s,m])=>{ee(m)||c.setMyLplist(s)},{immediate:!0}),X(()=>[C.value.myLplist,r.value.address],([s,m])=>{if(s&&r.value.address){const g=s,_=v.currentRoute.value.query.from,L=v.currentRoute.value.query.to;let $;if(_&&L&&($=he(_,L,s)),$){if(!$.balance||!Number($.balance)){v.push("/pools");return}const Z=g.filter(Ve=>Ve.symbol===$.symbol)[0];Z&&(u.value=Z)}}},{immediate:!0}),{fee:ce,isRemoveSuccessModal:E,isCmmHavePool:F,loading:H,indicator:O,addCommom:T,fixD:Se,decimalFormat:B,prettyAmount:ze,liquidity:C,clickExchange:Te,change:P,fixedFromCoin:U,router:v,wallet:r,refresh:a,amountArr:Re,sliderVal:I,slippage:Ie,importIcon:ie,clickRefresh:qe,isShowSwapSetting:R,fromCoin:f,toCoin:h,maxBtnSelect:Be,fromCoinAmount:y,toCoinAmount:S,direct:ue,rateChange:J,isShowRemoveModal:Y,btnText:Ae,currentLpInfo:u,selectLp:K,selectLpView:me,toRemove:Oe}}});const G=e=>(ae("data-v-32847980"),e=e(),le(),e),Po={class:"management-remove-liquidity"},Uo={class:"remove-liquidity-top"},Do={class:"remove-title"},jo={class:"right title-right"},Wo=G(()=>o("svg",{class:"icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-a-icon-setslippage"})],-1)),Xo=G(()=>o("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),Yo=[Xo],Eo={class:"remove-liquidity-center"},Ho={class:"bottom"},zo={class:"add-amount"},Go={class:"add-amount-header"},Jo={class:"amount-list"},Ko=["onClick"],Qo={class:"slider-box"},Zo={class:"card-container"},xo={class:"card-item"},en={class:"card-item"},on={class:"induction remove-liquidity-bottom"},nn={class:"item"},sn={class:"induction-text"},tn={key:0},an={key:0},ln={key:1},rn=G(()=>o("svg",{class:"icon-change","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-a-icon-change2"})],-1)),un={key:0,"aria-hidden":"true"},dn=G(()=>o("use",{"xlink:href":"#icon-icon-Remove"},null,-1)),mn=[dn],cn={key:0,class:"showMyLiquidity"},vn={class:"myLiquidity"},pn={class:"left"},fn={key:0,class:"right"},hn={class:"liquidityAsset"},Cn={class:"item"},yn={key:0,class:"left"},gn=["src"],$n={key:1,class:"right"},bn={class:"item"},kn={key:0,class:"left"},Sn=["src"],_n={key:1,class:"right"},Ln={class:"induction induction-liquidity"},wn={class:"item"},In={class:"induction-text"},An={key:0,class:"induction-value"};function qn(e,n,p,V,O,v){const k=Fe,r=Ke,c=Qe,C=Pe,R=Ze,Y=te,E=Ue,F=De,J=_o,P=Vo;return t(),d("div",Po,[w(k),o("div",Uo,[o("div",Do,i(e.$t("common.removeLiquidity")),1),o("div",jo,[o("div",{class:"slippage-icon",onClick:n[0]||(n[0]=a=>e.isShowSwapSetting=!0)},[Wo,o("span",null,i(e.slippage)+"%",1)]),(t(),d("svg",{"aria-hidden":"true",class:Ce(e.refresh?"refresh refresh-icon ":"refresh-icon"),onClick:n[1]||(n[1]=(...a)=>e.clickRefresh&&e.clickRefresh(...a))},Yo,2))])]),o("div",Eo,[o("div",Ho,[o("div",zo,[o("div",Go,[o("span",null,i(e.$t("common.amount")),1),o("div",Jo,[(t(!0),d(Ge,null,Je(e.amountArr,(a,U)=>(t(),d("div",{key:U,class:Ce(["amount-item",e.sliderVal==a.value?"amount-item-active":""]),onClick:ue=>e.sliderVal=a.value},i(a.name),11,Ko))),128))])]),o("div",Qo,[w(r,{value:e.sliderVal,"onUpdate:value":n[2]||(n[2]=a=>e.sliderVal=a),oninput:"this.value = this.value.replace(/[^\\d.]/g,'');",suffix:"%"},null,8,["value"]),w(c,{value:e.sliderVal,"onUpdate:value":n[3]||(n[3]=a=>e.sliderVal=a)},null,8,["value"])])])])]),o("div",Zo,[o("div",xo,[w(C,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":n[4]||(n[4]=a=>e.fromCoinAmount=a),"has-arrow":!1,"input-disabled":!0,havemax:!1,"is-total":!0,"input-value":e.addCommom(e.fromCoinAmount,e.fromCoin.decimals),"coin-name":e.fromCoin?e.fromCoin.symbol:null,"remove-balance":e.addCommom(e.currentLpInfo.myCoinXAmount,e.fromCoin.decimals)||null,"coin-icon":e.fromCoin?e.fromCoin.logoURI:"","is-remove":!0,"swap-direction":"From",onOnMax:n[5]||(n[5]=a=>e.maxBtnSelect("fromCoin")),onOnInput:n[6]||(n[6]=a=>e.fromCoinAmount=a),onOnFocus:n[7]||(n[7]=()=>{e.fixedFromCoin=!0})},null,8,["modelValue","input-value","coin-name","remove-balance","coin-icon"])]),o("div",en,[w(C,{modelValue:e.toCoinAmount,"onUpdate:modelValue":n[8]||(n[8]=a=>e.toCoinAmount=a),"has-arrow":!1,havemax:!1,"is-total":!0,"input-disabled":!0,"input-value":e.addCommom(e.toCoinAmount,e.toCoin.decimals),"coin-name":e.toCoin?e.toCoin.symbol:"","remove-balance":e.addCommom(e.currentLpInfo.myCoinYAmount,e.toCoin.decimals)||null,"swap-direction":"To","is-remove":!0,"coin-icon":e.toCoin?e.toCoin.logoURI:"",onOnMax:n[9]||(n[9]=a=>e.maxBtnSelect("toCoin")),onOnInput:n[10]||(n[10]=a=>e.toCoinAmount=a),onOnFocus:n[11]||(n[11]=()=>{e.fixedFromCoin=!1})},null,8,["modelValue","input-value","coin-name","remove-balance","coin-icon"])])]),o("div",on,[o("div",nn,[o("div",sn,i(e.$t("common.rate")),1),o("div",{class:"induction-value induction-value-change",onClick:n[12]||(n[12]=a=>e.rateChange=!e.rateChange)},[e.rateChange?(t(),d("span",ln,"1 "+i(e.toCoin&&e.toCoin.symbol)+" \u2248 "+i(e.decimalFormat(String(1/e.currentLpInfo.price),e.fromCoin.decimals))+" "+i(e.fromCoin&&e.fromCoin.symbol),1)):(t(),d("span",tn,[N(" 1 "+i(e.fromCoin&&e.fromCoin.symbol)+" \u2248 ",1),e.currentLpInfo.price?(t(),d("span",an,i(e.decimalFormat(e.currentLpInfo.price,e.toCoin.decimals)),1)):(t(),b(R,{key:1,indicator:e.indicator},null,8,["indicator"])),N(" "+i(e.toCoin&&e.toCoin.symbol),1)])),rn])])]),w(Y,{disabled:e.wallet.connected?e.sliderVal==0||!e.fromCoinAmount||!e.toCoinAmount||e.loading:!1,class:"remove-btn big-btn",onClick:n[13]||(n[13]=a=>e.wallet.connected?e.isShowRemoveModal=!0:e.wallet.setIsShowWalletModal(!0))},{default:M(()=>[e.wallet.connected?(t(),d("svg",un,mn)):A("",!0),o("span",null,i(e.wallet.connected?e.btnText:"Connect Wallet"),1)]),_:1},8,["disabled"]),w(E),e.wallet.connected?(t(),d("div",cn,[o("div",vn,[o("div",pn,i(e.$t("common.yourLiquidity")),1),e.currentLpInfo.myLpBalance?(t(),d("div",fn,[o("p",null,i(e.currentLpInfo.myLpBalance)+" LP",1),o("span",null,"\u2248 $"+i(e.addCommom(e.currentLpInfo.myBalanceUSD,2)),1)])):(t(),b(R,{key:1,indicator:e.indicator},null,8,["indicator"]))]),o("div",hn,[o("div",Cn,[e.fromCoin?(t(),d("div",yn,[o("img",{src:e.fromCoin.logoURI||e.importIcon(`/image/coins/${e.fromCoin.symbol.toLowerCase()}.png`),alt:""},null,8,gn),o("span",null,i(e.fromCoin.symbol),1)])):A("",!0),e.currentLpInfo.myCoinXAmount?(t(),d("div",$n,i(e.addCommom(e.currentLpInfo.myCoinXAmount,e.fromCoin.decimals)),1)):(t(),b(R,{key:2,indicator:e.indicator},null,8,["indicator"]))]),o("div",bn,[e.toCoin?(t(),d("div",kn,[o("img",{src:e.toCoin.logoURI||e.importIcon(`/image/coins/${e.toCoin.symbol.toLowerCase()}.png`),alt:""},null,8,Sn),o("span",null,i(e.toCoin.symbol),1)])):A("",!0),e.currentLpInfo.myCoinYAmount?(t(),d("div",_n,i(e.addCommom(e.currentLpInfo.myCoinYAmount,e.toCoin.decimals)),1)):(t(),b(R,{key:2,indicator:e.indicator},null,8,["indicator"]))])]),o("div",Ln,[o("div",wn,[o("div",In,i(e.$t("common.shareOfPool")),1),e.currentLpInfo.myshareOfPool?(t(),d("div",An,i(e.currentLpInfo.myshareOfPool)+" %",1)):(t(),b(R,{key:1,indicator:e.indicator},null,8,["indicator"]))])])])):A("",!0),e.isShowSwapSetting?(t(),b(F,{key:1,onOnClose:n[14]||(n[14]=a=>e.isShowSwapSetting=!1)})):A("",!0),e.isShowRemoveModal?(t(),b(J,{key:2,"liquidity-balance":e.selectLp,"fixed-from-coin":e.fixedFromCoin,"from-coin":e.currentLpInfo.coinA,"to-coin":e.currentLpInfo.coinB,"from-coin-amount":e.addCommom(e.fromCoinAmount,e.fromCoin.decimals),"to-coin-amount":e.addCommom(e.toCoinAmount,e.toCoin.decimals),"burn-value":e.selectLpView,"current-lp-info":e.currentLpInfo,loading:e.loading,onOnClose:n[15]||(n[15]=a=>e.isShowRemoveModal=!1),onToRemove:e.toRemove},null,8,["liquidity-balance","fixed-from-coin","from-coin","to-coin","from-coin-amount","to-coin-amount","burn-value","current-lp-info","loading","onToRemove"])):A("",!0),e.isRemoveSuccessModal&&e.isCmmHavePool?(t(),b(P,{key:3,"from-coin":e.currentLpInfo.coinA,"to-coin":e.currentLpInfo.coinB,fee:e.fee,onOnClose:n[16]||(n[16]=()=>{e.isRemoveSuccessModal=!1,Number(e.sliderVal)==100&&e.router.push("/pools")})},null,8,["from-coin","to-coin","fee"])):A("",!0)])}const Fn=se(Fo,[["render",qn],["__scopeId","data-v-32847980"]]);export{Fn as default};
