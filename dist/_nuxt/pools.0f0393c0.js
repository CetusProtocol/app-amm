import{_ as Y}from"./coin-pair-name.6fdaaafc.js";import{a as O,aa as j,ab as Z,A as K,Z as F,e as C,ad as H,i as J,a6 as P,Y as Q,l as M,o as s,m as n,p as a,q,t as d,c as I,G as L,v as w,w as N,S as E,B as X,a3 as x,r as f,$ as ee,b as z,a2 as k,a8 as oe,s as T,C as te,K as se,L as U,M as V,y as ae,z as ne}from"./entry.d5059ee4.js";import{_ as ie}from"./img-no-Positions_2x.678d3701.js";import{_ as le}from"./img-no-Positions_2x.3cb5a7d5.js";const ce=O({props:{pItem:{type:Object,required:!0}},setup(e){const c=j(Z,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0}),u=K(),i=F(),y=C(()=>i);function $(){e.pItem&&u.push(`/pools-management-remove?from=${e.pItem.coinA.symbol}&to=${e.pItem.coinB.symbol}`)}function r(){e.pItem&&u.push(`/pools-liquidity-add?from=${e.pItem.coinA.symbol}&to=${e.pItem.coinB.symbol}`)}function p(o){const v=o.balance,h=Q(v).div(Math.pow(10,o.decimals)).toString();return P(h,o.decimals)}return{indicator:c,thousands:H,importIcon:J,router:u,toRemove:$,toAdd:r,wallet:y,addCommom:P,getLpView:p}}});const re={class:"pools-position-item"},de={class:"card-header"},ue={class:"induction"},me={class:"item"},pe={class:"induction-text"},ve={key:0,class:"induction-value"},_e={class:"card-content"},fe={key:0,class:"content-top"},he={class:"top"},ye={class:"text"},$e={class:"value"},be={key:0},Ce={class:"bottom"},Le={class:"btn-box"};function ke(e,c,u,i,y,$){const r=Y,p=E,o=X;return s(),n("div",re,[a("div",de,[q(r,{"from-coin":e.pItem.coinA,"to-coin":e.pItem.coinB},null,8,["from-coin","to-coin"])]),a("div",ue,[a("div",me,[a("div",pe,d(e.$t("common.totalLiquidity")),1),e.pItem.totalLpUSD?(s(),n("div",ve,d(e.pItem.totalLpUSD&&`$ ${e.addCommom(e.pItem.totalLpUSD,2)}`),1)):(s(),I(p,{key:1,indicator:e.indicator},null,8,["indicator"]))])]),a("div",_e,[e.pItem&&Number(e.pItem.balance)&&e.wallet.connected?(s(),n("div",fe,[a("div",he,[a("div",ye,d(e.$t("common.yourPoolTokens")),1),a("div",$e,[a("p",null,d(e.getLpView(e.pItem)),1),L(" \xA0\xA0 "),e.pItem.myBalanceUSD?(s(),n("span",be," ~ $"+d(e.addCommom(e.pItem.myBalanceUSD,2)),1)):w("",!0)])]),a("div",Ce,[a("div",Le,[q(o,{class:"cancel-btn",onClick:e.toRemove},{default:N(()=>[L(d(e.$t("button.remove")),1)]),_:1},8,["onClick"]),q(o,{class:"confirm-btn",onClick:e.toAdd},{default:N(()=>[L(d(e.$t("button.add")),1)]),_:1},8,["onClick"])])])])):(s(),I(o,{key:1,class:"add-big-btn",onClick:c[0]||(c[0]=v=>e.router.push(`/pools-liquidity-add?from=${e.pItem.coinA.symbol}&to=${e.pItem.coinB.symbol}`))},{default:N(()=>[L(d(e.$t("button.addLiquidity")),1)]),_:1}))])])}const we=M(ce,[["render",ke],["__scopeId","data-v-4da06ce6"]]),Ie=O({setup(){const{t:e}=x(),c=f([e("tab.all"),e("tab.layerZero"),e("tab.wormhole"),e("tab.celer")]),u=f(e("tab.all")),i=f(""),y=j(Z,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0}),$=K(),r=f(!1),p=f(!1),o=f(null),v=f(0),h=ee(),b=C(()=>h),D=z(),S=C(()=>D.chainName),m=f([]),R=z();C(()=>R);const G=async()=>{p.value=!0,h.setMyLplist(g.value.address||""),R.getStatsData(),setTimeout(()=>{p.value=!1},1e3)},W=F(),g=C(()=>W);k(o,t=>{B(o.value)}),k(u,t=>{t==e("tab.all")?i.value="":t==e("tab.layerZero")?i.value="z":t==e("tab.wormhole")?i.value="wo":t==e("tab.celer")&&(i.value="ce"),B(o.value)});const B=t=>{if(r.value=!0,b.value.myLplist.length>0&&(m.value=b.value.myLplist),t){const _=m.value.filter(l=>l.symbol.toLowerCase().includes(t.toLowerCase())||l.coinA.name.toLowerCase().includes(t.toLowerCase())||l.coinB.name.toLowerCase().includes(t.toLowerCase()));if(u.value){const l=_.filter(A=>A.symbol.toLowerCase().includes(i.value.toLowerCase())||A.coinA.name.toLowerCase().includes(i.value.toLowerCase())||A.coinB.name.toLowerCase().includes(i.value.toLowerCase()));m.value=l,r.value=!1}else m.value=_,r.value=!1}else if(u.value){const _=m.value.filter(l=>l.symbol.toLowerCase().includes(i.value.toLowerCase())||l.coinA.name.toLowerCase().includes(i.value.toLowerCase())||l.coinB.name.toLowerCase().includes(i.value.toLowerCase()));m.value=_,r.value=!1}};return k(()=>[b.value.lpTokens,S.value],([t,_])=>{if(t&&!oe(t)){const l=Object.values(t);_==="Sui"&&l[0].address.includes("PoolLiquidityCoin")?m.value=[]:(m.value=Object.values(t),h.setMyLplist(g.value.address))}},{immediate:!0}),k(()=>[b.value.myLplist,S.value],([t,_])=>{var l;t&&t.length>0&&(_==="Sui"&&((l=t[0])==null?void 0:l.address.includes("PoolLiquidityCoin"))||(m.value=t))},{immediate:!0}),{indexStore:D,currentTab:u,tabList:c,indicator:y,wallet:g,list:m,loading:r,clickRefresh:G,refresh:p,router:$,liquidity:b,searchKey:o,updateLpList:B,totalTVL:v,addCommom:P,chainName:S}}});const Se=e=>(ae("data-v-cecc208a"),e=e(),ne(),e),ge={class:"pools-position-list-container"},Be={class:"position-title"},Ae=Se(()=>a("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),qe=[Ae],Ne={class:"search-input"},Pe=["placeholder"],De={key:0,class:"tab-list"},Re=["onClick"],ze={class:"item"},Te={key:1},Ue={key:0,class:"position-list"},Ve={key:1,class:"no-data"},Oe={key:0,src:ie},je={key:1,src:le};function Ze(e,c,u,i,y,$){const r=we,p=E;return s(),n("div",ge,[a("div",Be,[a("div",null,d(e.$t("menu.pools")),1),(s(),n("svg",{"aria-hidden":"true",class:T(e.refresh?"refresh refresh-icon ":"refresh-icon"),onClick:c[0]||(c[0]=(...o)=>e.clickRefresh&&e.clickRefresh(...o))},qe,2))]),a("div",Ne,[te(a("input",{"onUpdate:modelValue":c[1]||(c[1]=o=>e.searchKey=o),onkeyup:"value=value.replace(/[^A-Za-z0-9]+$/g,'')",placeholder:e.$t("inputPlaceholder.liquidityPlaceholder")},null,8,Pe),[[se,e.searchKey]]),a("div",{class:"search-icon",onClick:c[2]||(c[2]=o=>e.updateLpList(e.searchKey))})]),e.chainName!=="Sui"?(s(),n("div",De,[(s(!0),n(U,null,V(e.tabList,(o,v)=>(s(),n("div",{key:v,class:T(["item-container",e.currentTab==o?"item-container-active item-container":"item-container"]),onClick:h=>e.currentTab=o},[a("div",ze,d(o),1)],10,Re))),128))])):w("",!0),e.loading?(s(),I(p,{key:2})):(s(),n("div",Te,[e.list&&e.list.length>0?(s(),n("div",Ue,[(s(!0),n(U,null,V(e.list,(o,v)=>(s(),I(r,{key:v,"p-item":o},null,8,["p-item"]))),128))])):w("",!0),e.list&&e.list.length<=0?(s(),n("div",Ve,[e.indexStore.theme=="default"?(s(),n("img",Oe)):(s(),n("img",je)),a("span",null,d(e.$t("common.poolsNotFound")),1)])):w("",!0)]))])}const Ge=M(Ie,[["render",Ze],["__scopeId","data-v-cecc208a"]]);export{Ge as default};
