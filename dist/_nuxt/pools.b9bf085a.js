import{_ as J}from"./coin-pair-name.962d69bc.js";import{a as O,aa as Z,ab as j,A as K,Z as F,e as L,b as R,ae as Q,i as X,a6 as T,Y as x,l as W,o as t,m as a,p as s,q as P,v as b,t as d,c as B,G as S,w as z,S as E,B as ee,a3 as oe,r as _,$ as te,a2 as g,h as se,af as ne,a8 as ae,s as U,C as ie,K as le,L as V,M,y as re,z as ce}from"./entry.637e8a99.js";import{_ as de}from"./img-no-Positions_2x.7a5d8c0c.js";import{_ as ue}from"./img-no-Positions_2x.46d8a631.js";const me=O({props:{pItem:{type:Object,required:!0}},setup(e){const r=Z(j,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0}),u=K(),i=F(),$=L(()=>i),C=R(),c=L(()=>C);function m(){e.pItem&&u.push(`/pools-management-remove?from=${e.pItem.coinA.symbol}&to=${e.pItem.coinB.symbol}`)}function o(){e.pItem&&u.push(`/pools-liquidity-add?from=${e.pItem.coinA.symbol}&to=${e.pItem.coinB.symbol}`)}function f(p){const y=p.balance,w=x(y).div(Math.pow(10,p.decimals)).toString();return T(w,p.decimals)}return{indicator:r,thousands:Q,importIcon:X,router:u,toRemove:m,toAdd:o,wallet:$,index:c,addCommom:T,getLpView:f}}});const pe={class:"pools-position-item"},ve={class:"card-header"},fe={key:0,class:"label green"},he={key:1,class:"label blue"},_e={key:2,class:"label purple"},ye={class:"induction"},be={class:"item"},Le={class:"induction-text"},$e={key:0,class:"induction-value"},Ce={class:"card-content"},we={key:0,class:"content-top"},Ie={class:"top"},ke={class:"text"},Se={class:"value"},ge={key:0},Be={class:"bottom"},Ae={class:"btn-box"};function Ne(e,r,u,i,$,C){const c=J,m=E,o=ee;return t(),a("div",pe,[s("div",ve,[P(c,{"from-coin":e.pItem.coinA,"to-coin":e.pItem.coinB},null,8,["from-coin","to-coin"]),e.index.chainName==="Aptos"&&e.pItem.coinA.name.toLowerCase().includes("z")||e.pItem.coinB.name.toLowerCase().includes("z")?(t(),a("div",fe," LayerZero ")):b("",!0),e.index.chainName==="Aptos"&&e.pItem.coinA.name.toLowerCase().includes("wo")||e.pItem.coinB.name.toLowerCase().includes("wo")?(t(),a("div",he," Wormhole ")):b("",!0),e.index.chainName==="Aptos"&&e.pItem.coinA.name.toLowerCase().includes("ce")||e.pItem.coinB.name.toLowerCase().includes("ce")?(t(),a("div",_e," Celer ")):b("",!0)]),s("div",ye,[s("div",be,[s("div",Le,d(e.$t("common.totalLiquidity")),1),e.pItem.totalLpUSD?(t(),a("div",$e,d(e.pItem.totalLpUSD&&`$ ${e.addCommom(e.pItem.totalLpUSD,2)}`),1)):(t(),B(m,{key:1,indicator:e.indicator},null,8,["indicator"]))])]),s("div",Ce,[e.pItem&&Number(e.pItem.balance)&&e.wallet.connected?(t(),a("div",we,[s("div",Ie,[s("div",ke,d(e.$t("common.yourPoolTokens")),1),s("div",Se,[s("p",null,d(e.getLpView(e.pItem)),1),S(" \xA0\xA0 "),e.pItem.myBalanceUSD?(t(),a("span",ge," ~ $"+d(e.addCommom(e.pItem.myBalanceUSD,2)),1)):b("",!0)])]),s("div",Be,[s("div",Ae,[P(o,{class:"cancel-btn",onClick:e.toRemove},{default:z(()=>[S(d(e.$t("button.remove")),1)]),_:1},8,["onClick"]),P(o,{class:"confirm-btn",onClick:e.toAdd},{default:z(()=>[S(d(e.$t("button.add")),1)]),_:1},8,["onClick"])])])])):(t(),B(o,{key:1,class:"add-big-btn",onClick:r[0]||(r[0]=f=>e.router.push(`/pools-liquidity-add?from=${e.pItem.coinA.symbol}&to=${e.pItem.coinB.symbol}`))},{default:z(()=>[S(d(e.$t("button.addLiquidity")),1)]),_:1}))])])}const qe=W(me,[["render",Ne],["__scopeId","data-v-b4d6bd4f"]]),De=O({setup(){const{t:e}=oe(),r=_([e("tab.all"),e("tab.layerZero"),e("tab.wormhole"),e("tab.celer")]),u=_(e("tab.all")),i=_(""),$=Z(j,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0}),C=K(),c=_(!1),m=_(!1),o=_(null),f=_(0),p=te(),y=L(()=>p),w=R(),A=L(()=>w.chainName),v=_([]),N=R();L(()=>N);const Y=async()=>{m.value=!0,p.setMyLplist(I.value.address||""),N.getStatsData(),setTimeout(()=>{m.value=!1},1e3)},H=F(),I=L(()=>H);g(o,n=>{k(o.value)}),g(u,n=>{n==e("tab.all")?i.value="":n==e("tab.layerZero")?i.value="z":n==e("tab.wormhole")?i.value="wo":n==e("tab.celer")&&(i.value="ce"),k(o.value)});const k=n=>{if(c.value=!0,y.value.myLplist.length>0&&(v.value=y.value.myLplist),n){const h=v.value.filter(l=>l.symbol.toLowerCase().includes(n.toLowerCase())||l.coinA.name.toLowerCase().includes(n.toLowerCase())||l.coinB.name.toLowerCase().includes(n.toLowerCase()));if(u.value){const l=h.filter(D=>D.symbol.toLowerCase().includes(i.value.toLowerCase())||D.coinA.name.toLowerCase().includes(i.value.toLowerCase())||D.coinB.name.toLowerCase().includes(i.value.toLowerCase()));v.value=l,c.value=!1}else v.value=h,c.value=!1}else if(u.value){const h=v.value.filter(l=>l.symbol.toLowerCase().includes(i.value.toLowerCase())||l.coinA.name.toLowerCase().includes(i.value.toLowerCase())||l.coinB.name.toLowerCase().includes(i.value.toLowerCase()));v.value=h,c.value=!1}};g(()=>[y.value.lpTokens,A.value],([n,h])=>{if(n&&!ae(n)){const l=Object.values(n);h==="Sui"&&l[0].address.includes("PoolLiquidityCoin")?v.value=[]:(v.value=Object.values(n),p.setMyLplist(I.value.address))}},{immediate:!0}),g(()=>[y.value.myLplist,A.value],([n,h])=>{var l;n&&n.length>0&&(h==="Sui"&&((l=n[0])==null?void 0:l.address.includes("PoolLiquidityCoin"))||k(o.value))},{immediate:!0});let q=null;return se(()=>{q=window.setInterval(()=>{p.setMyLplist(I.value.address||""),N.getStatsData()},12e4)}),ne(()=>{window.clearInterval(q),clearInterval(q)}),{indexStore:w,currentTab:u,tabList:r,indicator:$,wallet:I,list:v,loading:c,clickRefresh:Y,refresh:m,router:C,liquidity:y,searchKey:o,updateLpList:k,totalTVL:f,addCommom:T,chainName:A}}});const G=e=>(re("data-v-ed9f7608"),e=e(),ce(),e),Pe={class:"pools-position-list-container"},ze=G(()=>s("a",{href:"https://cetus-cmm-app-devnet.netlify.app/pools-list"},[s("svg",{class:"icon cmm-icon","aria-hidden":"true"},[s("use",{"xlink:href":"#icon-icon-back"})])],-1)),Re={class:"position-title"},Te=G(()=>s("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),Ue=[Te],Ve={class:"search-input"},Me=["placeholder"],Oe={key:0,class:"tab-list"},Ze=["onClick"],je={class:"item"},Ke={key:1},Fe={key:0,class:"position-list"},We={key:1,class:"no-data"},Ee={key:0,src:de},Ge={key:1,src:ue};function Ye(e,r,u,i,$,C){const c=qe,m=E;return t(),a("div",Pe,[ze,s("div",Re,[s("div",null,d(e.$t("menu.pools"))+" ",1),(t(),a("svg",{"aria-hidden":"true",class:U(e.refresh?"refresh refresh-icon ":"refresh-icon"),onClick:r[0]||(r[0]=(...o)=>e.clickRefresh&&e.clickRefresh(...o))},Ue,2))]),s("div",Ve,[ie(s("input",{"onUpdate:modelValue":r[1]||(r[1]=o=>e.searchKey=o),onkeyup:"value=value.replace(/[^A-Za-z0-9]+$/g,'')",placeholder:e.$t("inputPlaceholder.liquidityPlaceholder")},null,8,Me),[[le,e.searchKey]]),s("div",{class:"search-icon",onClick:r[2]||(r[2]=o=>e.updateLpList(e.searchKey))})]),e.chainName!=="Sui"?(t(),a("div",Oe,[(t(!0),a(V,null,M(e.tabList,(o,f)=>(t(),a("div",{key:f,class:U(["item-container",e.currentTab==o?"item-container-active item-container":"item-container"]),onClick:p=>e.currentTab=o},[s("div",je,d(o),1)],10,Ze))),128))])):b("",!0),e.loading?(t(),B(m,{key:2})):(t(),a("div",Ke,[e.list&&e.list.length>0?(t(),a("div",Fe,[(t(!0),a(V,null,M(e.list,(o,f)=>(t(),B(c,{key:f,"p-item":o},null,8,["p-item"]))),128))])):b("",!0),e.list&&e.list.length<=0?(t(),a("div",We,[e.indexStore.theme=="default"?(t(),a("img",Ee)):(t(),a("img",Ge)),s("span",null,d(e.$t("common.poolsNotFound")),1)])):b("",!0)]))])}const xe=W(De,[["render",Ye],["__scopeId","data-v-ed9f7608"]]);export{xe as default};
