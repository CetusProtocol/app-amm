import{_ as H}from"./coin-pair-name.f7e81826.js";import{a as O,aa as Z,ab as j,A as K,Z as F,e as $,ae as J,i as Q,a6 as z,Y as X,l as W,o as t,m as a,p as n,q as D,v as y,t as d,c as g,G as k,w as P,S as E,B as x,a3 as ee,r as _,$ as oe,b as T,a2 as S,h as te,af as se,a8 as ne,s as U,C as ae,K as ie,L as V,M,y as le,z as re}from"./entry.54782f74.js";import{_ as ce}from"./img-no-Positions_2x.7a5d8c0c.js";import{_ as de}from"./img-no-Positions_2x.46d8a631.js";const ue=O({props:{pItem:{type:Object,required:!0}},setup(e){const r=Z(j,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0}),u=K(),i=F(),b=$(()=>i);function L(){e.pItem&&u.push(`/pools-management-remove?from=${e.pItem.coinA.symbol}&to=${e.pItem.coinB.symbol}`)}function c(){e.pItem&&u.push(`/pools-liquidity-add?from=${e.pItem.coinA.symbol}&to=${e.pItem.coinB.symbol}`)}function m(o){const v=o.balance,h=X(v).div(Math.pow(10,o.decimals)).toString();return z(h,o.decimals)}return{indicator:r,thousands:J,importIcon:Q,router:u,toRemove:L,toAdd:c,wallet:b,addCommom:z,getLpView:m}}});const me={class:"pools-position-item"},pe={class:"card-header"},ve={key:0,class:"label green"},fe={key:1,class:"label blue"},_e={key:2,class:"label purple"},he={class:"induction"},ye={class:"item"},be={class:"induction-text"},Le={key:0,class:"induction-value"},Ce={class:"card-content"},$e={key:0,class:"content-top"},we={class:"top"},Ie={class:"text"},ke={class:"value"},Se={key:0},ge={class:"bottom"},Be={class:"btn-box"};function Ae(e,r,u,i,b,L){const c=H,m=E,o=x;return t(),a("div",me,[n("div",pe,[D(c,{"from-coin":e.pItem.coinA,"to-coin":e.pItem.coinB},null,8,["from-coin","to-coin"]),e.pItem.coinA.name.toLowerCase().includes("z")||e.pItem.coinB.name.toLowerCase().includes("z")?(t(),a("div",ve," LayerZero ")):y("",!0),e.pItem.coinA.name.toLowerCase().includes("wo")||e.pItem.coinB.name.toLowerCase().includes("wo")?(t(),a("div",fe," Wormhole ")):y("",!0),e.pItem.coinA.name.toLowerCase().includes("ce")||e.pItem.coinB.name.toLowerCase().includes("ce")?(t(),a("div",_e," Celer ")):y("",!0)]),n("div",he,[n("div",ye,[n("div",be,d(e.$t("common.totalLiquidity")),1),e.pItem.totalLpUSD?(t(),a("div",Le,d(e.pItem.totalLpUSD&&`$ ${e.addCommom(e.pItem.totalLpUSD,2)}`),1)):(t(),g(m,{key:1,indicator:e.indicator},null,8,["indicator"]))])]),n("div",Ce,[e.pItem&&Number(e.pItem.balance)&&e.wallet.connected?(t(),a("div",$e,[n("div",we,[n("div",Ie,d(e.$t("common.yourPoolTokens")),1),n("div",ke,[n("p",null,d(e.getLpView(e.pItem)),1),k(" \xA0\xA0 "),e.pItem.myBalanceUSD?(t(),a("span",Se," ~ $"+d(e.addCommom(e.pItem.myBalanceUSD,2)),1)):y("",!0)])]),n("div",ge,[n("div",Be,[D(o,{class:"cancel-btn",onClick:e.toRemove},{default:P(()=>[k(d(e.$t("button.remove")),1)]),_:1},8,["onClick"]),D(o,{class:"confirm-btn",onClick:e.toAdd},{default:P(()=>[k(d(e.$t("button.add")),1)]),_:1},8,["onClick"])])])])):(t(),g(o,{key:1,class:"add-big-btn",onClick:r[0]||(r[0]=v=>e.router.push(`/pools-liquidity-add?from=${e.pItem.coinA.symbol}&to=${e.pItem.coinB.symbol}`))},{default:P(()=>[k(d(e.$t("button.addLiquidity")),1)]),_:1}))])])}const qe=W(ue,[["render",Ae],["__scopeId","data-v-00c06330"]]),Ne=O({setup(){const{t:e}=ee(),r=_([e("tab.all"),e("tab.layerZero"),e("tab.wormhole"),e("tab.celer")]),u=_(e("tab.all")),i=_(""),b=Z(j,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0}),L=K(),c=_(!1),m=_(!1),o=_(null),v=_(0),h=oe(),C=$(()=>h),R=T(),B=$(()=>R.chainName),p=_([]),A=T();$(()=>A);const G=async()=>{m.value=!0,h.setMyLplist(w.value.address||""),A.getStatsData(),setTimeout(()=>{m.value=!1},1e3)},Y=F(),w=$(()=>Y);S(o,s=>{I(o.value)}),S(u,s=>{s==e("tab.all")?i.value="":s==e("tab.layerZero")?i.value="z":s==e("tab.wormhole")?i.value="wo":s==e("tab.celer")&&(i.value="ce"),I(o.value)});const I=s=>{if(c.value=!0,C.value.myLplist.length>0&&(p.value=C.value.myLplist),s){const f=p.value.filter(l=>l.symbol.toLowerCase().includes(s.toLowerCase())||l.coinA.name.toLowerCase().includes(s.toLowerCase())||l.coinB.name.toLowerCase().includes(s.toLowerCase()));if(u.value){const l=f.filter(N=>N.symbol.toLowerCase().includes(i.value.toLowerCase())||N.coinA.name.toLowerCase().includes(i.value.toLowerCase())||N.coinB.name.toLowerCase().includes(i.value.toLowerCase()));p.value=l,c.value=!1}else p.value=f,c.value=!1}else if(u.value){const f=p.value.filter(l=>l.symbol.toLowerCase().includes(i.value.toLowerCase())||l.coinA.name.toLowerCase().includes(i.value.toLowerCase())||l.coinB.name.toLowerCase().includes(i.value.toLowerCase()));p.value=f,c.value=!1}};S(()=>[C.value.lpTokens,B.value],([s,f])=>{if(s&&!ne(s)){const l=Object.values(s);f==="Sui"&&l[0].address.includes("PoolLiquidityCoin")?p.value=[]:(p.value=Object.values(s),h.setMyLplist(w.value.address))}},{immediate:!0}),S(()=>[C.value.myLplist,B.value],([s,f])=>{var l;s&&s.length>0&&(f==="Sui"&&((l=s[0])==null?void 0:l.address.includes("PoolLiquidityCoin"))||I(o.value))},{immediate:!0});let q=null;return te(()=>{q=window.setInterval(()=>{h.setMyLplist(w.value.address||""),A.getStatsData()},12e4)}),se(()=>{window.clearInterval(q),clearInterval(q)}),{indexStore:R,currentTab:u,tabList:r,indicator:b,wallet:w,list:p,loading:c,clickRefresh:G,refresh:m,router:L,liquidity:C,searchKey:o,updateLpList:I,totalTVL:v,addCommom:z,chainName:B}}});const De=e=>(le("data-v-0ffd37d1"),e=e(),re(),e),Pe={class:"pools-position-list-container"},ze={class:"position-title"},Re=De(()=>n("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),Te=[Re],Ue={class:"search-input"},Ve=["placeholder"],Me={key:0,class:"tab-list"},Oe=["onClick"],Ze={class:"item"},je={key:1},Ke={key:0,class:"position-list"},Fe={key:1,class:"no-data"},We={key:0,src:ce},Ee={key:1,src:de};function Ge(e,r,u,i,b,L){const c=qe,m=E;return t(),a("div",Pe,[n("div",ze,[n("div",null,d(e.$t("menu.pools")),1),(t(),a("svg",{"aria-hidden":"true",class:U(e.refresh?"refresh refresh-icon ":"refresh-icon"),onClick:r[0]||(r[0]=(...o)=>e.clickRefresh&&e.clickRefresh(...o))},Te,2))]),n("div",Ue,[ae(n("input",{"onUpdate:modelValue":r[1]||(r[1]=o=>e.searchKey=o),onkeyup:"value=value.replace(/[^A-Za-z0-9]+$/g,'')",placeholder:e.$t("inputPlaceholder.liquidityPlaceholder")},null,8,Ve),[[ie,e.searchKey]]),n("div",{class:"search-icon",onClick:r[2]||(r[2]=o=>e.updateLpList(e.searchKey))})]),e.chainName!=="Sui"?(t(),a("div",Me,[(t(!0),a(V,null,M(e.tabList,(o,v)=>(t(),a("div",{key:v,class:U(["item-container",e.currentTab==o?"item-container-active item-container":"item-container"]),onClick:h=>e.currentTab=o},[n("div",Ze,d(o),1)],10,Oe))),128))])):y("",!0),e.loading?(t(),g(m,{key:2})):(t(),a("div",je,[e.list&&e.list.length>0?(t(),a("div",Ke,[(t(!0),a(V,null,M(e.list,(o,v)=>(t(),g(c,{key:v,"p-item":o},null,8,["p-item"]))),128))])):y("",!0),e.list&&e.list.length<=0?(t(),a("div",Fe,[e.indexStore.theme=="default"?(t(),a("img",We)):(t(),a("img",Ee)),n("span",null,d(e.$t("common.poolsNotFound")),1)])):y("",!0)]))])}const Xe=W(Ne,[["render",Ge],["__scopeId","data-v-0ffd37d1"]]);export{Xe as default};
