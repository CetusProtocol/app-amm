import{_ as W}from"./coin-pair-name.2aeb9508.js";import{a as z,a8 as U,a9 as V,A as K,X as M,e as B,ac as X,i as Y,a4 as T,aa as H,l as O,o as s,m as a,p as o,q as w,t as i,c as L,G as k,v as q,w as g,S as j,B as J,a0 as Q,r as f,Y as x,a2 as A,$ as S,a6 as N,s as R,C as ee,K as te,L as D,M as P,y as oe,z as se}from"./entry.2d1d104f.js";import{_ as ne}from"./img-no-Positions_2x.bdc16a17.js";const ae=z({props:{pItem:{type:Object,required:!0}},setup(e){const n=U(V,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0}),c=K(),r=M(),h=B(()=>r);function y(){e.pItem&&c.push(`/pools-management-remove?from=${e.pItem.coinA.symbol}&to=${e.pItem.coinB.symbol}`)}function l(){e.pItem&&c.push(`/pools-liquidity-add?from=${e.pItem.coinA.symbol}&to=${e.pItem.coinB.symbol}`)}function u(t){const m=t.balance,_=H(m).div(Math.pow(10,t.decimals)).toString();return T(_,t.decimals)}return{indicator:n,thousands:X,importIcon:Y,router:c,toRemove:y,toAdd:l,wallet:h,addCommom:T,getLpView:u}}});const le={class:"pools-position-item"},ie={class:"card-header"},ce={class:"induction"},re={class:"item"},de={class:"induction-text"},ue={key:0,class:"induction-value"},pe={class:"card-content"},me={key:0,class:"content-top"},ve={class:"top"},fe={class:"text"},_e={class:"value"},he={key:0},ye={class:"bottom"},be={class:"btn-box"};function $e(e,n,c,r,h,y){const l=W,u=j,t=J;return s(),a("div",le,[o("div",ie,[w(l,{"from-coin":e.pItem.coinA,"to-coin":e.pItem.coinB},null,8,["from-coin","to-coin"])]),o("div",ce,[o("div",re,[o("div",de,i(e.$t("common.totalLiquidity")),1),e.pItem.totalLpUSD?(s(),a("div",ue,i(e.pItem.totalLpUSD&&`$ ${e.addCommom(e.pItem.totalLpUSD,2)}`),1)):(s(),L(u,{key:1,indicator:e.indicator},null,8,["indicator"]))])]),o("div",pe,[e.pItem&&Number(e.pItem.balance)&&e.wallet.connected?(s(),a("div",me,[o("div",ve,[o("div",fe,i(e.$t("common.yourPoolTokens")),1),o("div",_e,[o("p",null,i(e.getLpView(e.pItem)),1),k(" \xA0\xA0 "),e.pItem.myBalanceUSD?(s(),a("span",he,"~ $"+i(e.addCommom(e.pItem.myBalanceUSD,2)),1)):q("",!0)])]),o("div",ye,[o("div",be,[w(t,{class:"cancel-btn",onClick:e.toRemove},{default:g(()=>[k(i(e.$t("button.remove")),1)]),_:1},8,["onClick"]),w(t,{class:"confirm-btn",onClick:e.toAdd},{default:g(()=>[k(i(e.$t("button.add")),1)]),_:1},8,["onClick"])])])])):(s(),L(t,{key:1,class:"add-big-btn",onClick:n[0]||(n[0]=m=>e.router.push(`/pools-liquidity-add?from=${e.pItem.coinA.symbol}&to=${e.pItem.coinB.symbol}`))},{default:g(()=>[k(i(e.$t("button.addLiquidity")),1)]),_:1}))])])}const ke=O(ae,[["render",$e],["__scopeId","data-v-511b3c16"]]),Le=z({setup(){const{t:e}=Q(),n=f([e("tab.all"),e("tab.layerZero"),e("tab.wormhole"),e("tab.celer")]),c=f(e("tab.all")),r=f(""),h=U(V,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0}),y=K(),l=f(!1),u=f(!1),t=f(null),m=f(0),_=x(),p=B(()=>_),d=f([]),E=async()=>{u.value=!0,_.setMyLplist(I.value.address||""),setTimeout(()=>{u.value=!1},1e3)},F=M(),I=B(()=>F);A(t,v=>{C(t.value)}),A(c,v=>{v==e("tab.all")?r.value="":v==e("tab.layerZero")?r.value="z":v==e("tab.wormhole")?r.value="wh":v==e("tab.celer")&&(r.value="ce"),C(t.value)});const C=v=>{if(l.value=!0,p.value.myLplist.length>0&&(d.value=p.value.myLplist),v){const $=d.value.filter(b=>b.symbol.toLowerCase().includes(v.toLowerCase()));if(c.value){const b=$.filter(G=>G.symbol.toLowerCase().includes(r.value.toLowerCase()));d.value=b,l.value=!1}else d.value=$,l.value=!1}else if(c.value){const $=d.value.filter(b=>b.symbol.toLowerCase().includes(r.value.toLowerCase()));d.value=$,l.value=!1}};return S(()=>{N(p.value.lpTokens)||(d.value=Object.values(p.value.lpTokens))}),S(()=>{p.value.myLplist.length>0&&(d.value=p.value.myLplist)}),S(()=>{N(p.value.lpTokens)||(d.value=Object.values(p.value.lpTokens),_.setMyLplist(I.value.address))}),{currentTab:c,tabList:n,indicator:h,wallet:I,list:d,loading:l,clickRefresh:E,refresh:u,router:y,liquidity:p,searchKey:t,updateLpList:C,totalTVL:m,addCommom:T}}});const Z=e=>(oe("data-v-0a7644bd"),e=e(),se(),e),Ie={class:"pools-position-list-container"},Ce={class:"position-title"},we=Z(()=>o("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),ge=[we],Se={class:"search-input"},Be=["placeholder"],Te={class:"tab-list"},qe=["onClick"],Ae={class:"item"},Ne={key:0},Re={key:0,class:"position-list"},De={key:1,class:"no-data"},Pe=Z(()=>o("img",{src:ne,alt:""},null,-1));function ze(e,n,c,r,h,y){const l=ke,u=j;return s(),a("div",Ie,[o("div",Ce,[o("div",null,i(e.$t("menu.pools")),1),(s(),a("svg",{"aria-hidden":"true",class:R(e.refresh?"refresh refresh-icon ":"refresh-icon"),onClick:n[0]||(n[0]=(...t)=>e.clickRefresh&&e.clickRefresh(...t))},ge,2))]),o("div",Se,[ee(o("input",{"onUpdate:modelValue":n[1]||(n[1]=t=>e.searchKey=t),onkeyup:"value=value.replace(/[^A-Za-z0-9]+$/g,'')",placeholder:e.$t("inputPlaceholder.liquidityPlaceholder")},null,8,Be),[[te,e.searchKey]]),o("div",{class:"search-icon",onClick:n[2]||(n[2]=t=>e.updateLpList(e.searchKey))})]),o("div",Te,[(s(!0),a(D,null,P(e.tabList,(t,m)=>(s(),a("div",{key:m,class:R(["item-container",e.currentTab==t?"item-container-active item-container":"item-container"]),onClick:_=>e.currentTab=t},[o("div",Ae,i(t),1)],10,qe))),128))]),e.loading?(s(),L(u,{key:1})):(s(),a("div",Ne,[e.list&&e.list.length>0?(s(),a("div",Re,[(s(!0),a(D,null,P(e.list,(t,m)=>(s(),L(l,{key:m,"p-item":t},null,8,["p-item"]))),128))])):q("",!0),e.list&&e.list.length<=0?(s(),a("div",De,[Pe,o("span",null,i(e.$t("common.poolsNotFound")),1)])):q("",!0)]))])}const Me=O(Le,[["render",ze],["__scopeId","data-v-0a7644bd"]]);export{Me as default};
