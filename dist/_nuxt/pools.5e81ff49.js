import{_ as Y}from"./coin-pair-name.420c276c.js";import{a as V,aa as K,ab as O,A as j,Z,e as k,ad as H,i as J,a6 as A,Y as Q,l as F,o,m as a,p as s,q,t as r,c as S,G as I,v as L,w as N,S as M,B as X,a3 as x,r as f,$ as ee,b as R,a2 as C,a8 as te,s as z,C as oe,K as se,L as T,M as U,y as ne,z as ae}from"./entry.01d7a0c5.js";import{_ as ie}from"./img-no-Positions_2x.678d3701.js";import{_ as le}from"./img-no-Positions_2x.3cb5a7d5.js";const re=V({props:{pItem:{type:Object,required:!0}},setup(e){const i=K(O,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0}),c=j(),d=Z(),y=k(()=>d);function b(){e.pItem&&c.push(`/pools-management-remove?from=${e.pItem.coinA.symbol}&to=${e.pItem.coinB.symbol}`)}function l(){e.pItem&&c.push(`/pools-liquidity-add?from=${e.pItem.coinA.symbol}&to=${e.pItem.coinB.symbol}`)}function p(t){const v=t.balance,h=Q(v).div(Math.pow(10,t.decimals)).toString();return A(h,t.decimals)}return{indicator:i,thousands:H,importIcon:J,router:c,toRemove:b,toAdd:l,wallet:y,addCommom:A,getLpView:p}}});const ce={class:"pools-position-item"},de={class:"card-header"},ue={class:"induction"},me={class:"item"},pe={class:"induction-text"},ve={key:0,class:"induction-value"},_e={class:"card-content"},fe={key:0,class:"content-top"},he={class:"top"},ye={class:"text"},be={class:"value"},$e={key:0},ke={class:"bottom"},Ie={class:"btn-box"};function Ce(e,i,c,d,y,b){const l=Y,p=M,t=X;return o(),a("div",ce,[s("div",de,[q(l,{"from-coin":e.pItem.coinA,"to-coin":e.pItem.coinB},null,8,["from-coin","to-coin"])]),s("div",ue,[s("div",me,[s("div",pe,r(e.$t("common.totalLiquidity")),1),e.pItem.totalLpUSD?(o(),a("div",ve,r(e.pItem.totalLpUSD&&`$ ${e.addCommom(e.pItem.totalLpUSD,2)}`),1)):(o(),S(p,{key:1,indicator:e.indicator},null,8,["indicator"]))])]),s("div",_e,[e.pItem&&Number(e.pItem.balance)&&e.wallet.connected?(o(),a("div",fe,[s("div",he,[s("div",ye,r(e.$t("common.yourPoolTokens")),1),s("div",be,[s("p",null,r(e.getLpView(e.pItem)),1),I(" \xA0\xA0 "),e.pItem.myBalanceUSD?(o(),a("span",$e," ~ $"+r(e.addCommom(e.pItem.myBalanceUSD,2)),1)):L("",!0)])]),s("div",ke,[s("div",Ie,[q(t,{class:"cancel-btn",onClick:e.toRemove},{default:N(()=>[I(r(e.$t("button.remove")),1)]),_:1},8,["onClick"]),q(t,{class:"confirm-btn",onClick:e.toAdd},{default:N(()=>[I(r(e.$t("button.add")),1)]),_:1},8,["onClick"])])])])):(o(),S(t,{key:1,class:"add-big-btn",onClick:i[0]||(i[0]=v=>e.router.push(`/pools-liquidity-add?from=${e.pItem.coinA.symbol}&to=${e.pItem.coinB.symbol}`))},{default:N(()=>[I(r(e.$t("button.addLiquidity")),1)]),_:1}))])])}const Le=F(re,[["render",Ce],["__scopeId","data-v-4da06ce6"]]),Se=V({setup(){const{t:e}=x(),i=f([e("tab.all"),e("tab.layerZero"),e("tab.wormhole"),e("tab.celer")]),c=f(e("tab.all")),d=f(""),y=K(O,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0}),b=j(),l=f(!1),p=f(!1),t=f(null),v=f(0),h=ee(),$=k(()=>h),P=R(),g=k(()=>P.chainName),u=f([]),D=R();k(()=>D);const E=async()=>{p.value=!0,h.setMyLplist(w.value.address||""),D.getStatsData(),setTimeout(()=>{p.value=!1},1e3)},G=Z(),w=k(()=>G);C(t,n=>{B(t.value)}),C(c,n=>{n==e("tab.all")?d.value="":n==e("tab.layerZero")?d.value="z":n==e("tab.wormhole")?d.value="wh":n==e("tab.celer")&&(d.value="ce"),B(t.value)});const B=n=>{if(l.value=!0,$.value.myLplist.length>0&&(u.value=$.value.myLplist),n){const _=u.value.filter(m=>m.symbol.toLowerCase().includes(n.toLowerCase()));if(c.value){const m=_.filter(W=>W.symbol.toLowerCase().includes(d.value.toLowerCase()));u.value=m,l.value=!1}else u.value=_,l.value=!1}else if(c.value){const _=u.value.filter(m=>m.symbol.toLowerCase().includes(d.value.toLowerCase()));u.value=_,l.value=!1}};return C(()=>[$.value.lpTokens,g.value],([n,_])=>{if(n&&!te(n)){const m=Object.values(n);_==="Sui"&&m[0].address.includes("PoolLiquidityCoin")?u.value=[]:(u.value=Object.values(n),h.setMyLplist(w.value.address))}},{immediate:!0}),C(()=>[$.value.myLplist,g.value],([n,_])=>{var m;n&&n.length>0&&(_==="Sui"&&((m=n[0])==null?void 0:m.address.includes("PoolLiquidityCoin"))||(u.value=n))},{immediate:!0}),{indexStore:P,currentTab:c,tabList:i,indicator:y,wallet:w,list:u,loading:l,clickRefresh:E,refresh:p,router:b,liquidity:$,searchKey:t,updateLpList:B,totalTVL:v,addCommom:A,chainName:g}}});const ge=e=>(ne("data-v-ebab0367"),e=e(),ae(),e),we={class:"pools-position-list-container"},Be={class:"position-title"},qe=ge(()=>s("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),Ne=[qe],Ae={class:"search-input"},Pe=["placeholder"],De={key:0,class:"tab-list"},Re=["onClick"],ze={class:"item"},Te={key:1},Ue={key:0,class:"position-list"},Ve={key:1,class:"no-data"},Ke={key:0,src:ie},Oe={key:1,src:le};function je(e,i,c,d,y,b){const l=Le,p=M;return o(),a("div",we,[s("div",Be,[s("div",null,r(e.$t("menu.pools")),1),(o(),a("svg",{"aria-hidden":"true",class:z(e.refresh?"refresh refresh-icon ":"refresh-icon"),onClick:i[0]||(i[0]=(...t)=>e.clickRefresh&&e.clickRefresh(...t))},Ne,2))]),s("div",Ae,[oe(s("input",{"onUpdate:modelValue":i[1]||(i[1]=t=>e.searchKey=t),onkeyup:"value=value.replace(/[^A-Za-z0-9]+$/g,'')",placeholder:e.$t("inputPlaceholder.liquidityPlaceholder")},null,8,Pe),[[se,e.searchKey]]),s("div",{class:"search-icon",onClick:i[2]||(i[2]=t=>e.updateLpList(e.searchKey))})]),e.chainName!=="Sui"?(o(),a("div",De,[(o(!0),a(T,null,U(e.tabList,(t,v)=>(o(),a("div",{key:v,class:z(["item-container",e.currentTab==t?"item-container-active item-container":"item-container"]),onClick:h=>e.currentTab=t},[s("div",ze,r(t),1)],10,Re))),128))])):L("",!0),e.loading?(o(),S(p,{key:2})):(o(),a("div",Te,[e.list&&e.list.length>0?(o(),a("div",Ue,[(o(!0),a(T,null,U(e.list,(t,v)=>(o(),S(l,{key:v,"p-item":t},null,8,["p-item"]))),128))])):L("",!0),e.list&&e.list.length<=0?(o(),a("div",Ve,[e.indexStore.theme=="default"?(o(),a("img",Ke)):(o(),a("img",Oe)),s("span",null,r(e.$t("common.poolsNotFound")),1)])):L("",!0)]))])}const Ge=F(Se,[["render",je],["__scopeId","data-v-ebab0367"]]);export{Ge as default};
