import{_ as So}from"./back.e511abc6.mjs";import{_ as wo}from"./assets-card.a018f1a2.mjs";import{_ as Lo}from"./swap-setting.2bedfc43.mjs";import{a as no,Q as ko,b as to,a1 as so,X as io,e as T,Y as K,r as l,i as ao,j as lo,k as q,l as ro,J as Ao,o as i,c as b,w as E,p as e,t,m as u,q as k,G as F,B as uo,y as co,z as mo,a7 as Io,a8 as qo,A as Ro,Z as C,a2 as H,a3 as Bo,a0 as x,a4 as Vo,a5 as Mo,$ as Oo,a9 as G,a6 as oo,s as eo,L as To,M as Fo,v as X,I as No,aa as Po,S as Do}from"./entry.59b1ebad.mjs";/* empty css               */const Yo=no({components:{Modal:ko},props:{fromCoin:{type:Object,required:!0},toCoin:{type:Object,required:!0},fromCoinAmount:{type:String,required:!0},toCoinAmount:{type:String,required:!0},burnValue:{type:String,required:!0},fixedFromCoin:{type:Boolean,required:!0},liquidityBalance:{type:String,required:!0},currentLpInfo:{type:Object,required:!0},slideVal:{type:String,required:!0}},emits:["on-close","to-remove"],setup(o,n){const R=to();so();const v=io();T(()=>v),K();const B=l(R.slippage||.5),d=l(!0),p=l(!1);function h(_){d.value=_}return{slippage:B,importIcon:ao,fixD:lo,decimalFormat:q,direct:d,changeDirect:h,rateChange:p,clickNextBtn:async()=>{console.log("toRemove1111####"),n.emit("to-remove")}}}});const U=o=>(co("data-v-0dc82e2b"),o=o(),mo(),o),Xo=U(()=>e("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[e("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),Eo={class:"remove-confirm-container"},Uo={class:"card-content"},jo={class:"top"},Wo={class:"coin"},zo=["src"],Go=F(" \xA0\xA0 "),Ko=U(()=>e("div",{class:"svg-box"},[e("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[e("use",{"xlink:href":"#icon-icon-add1"})])],-1)),Jo={class:"coin"},Qo=["src"],Zo=F(" \xA0\xA0 "),Ho={class:"bottom"},xo={class:"desc"},oe={class:"induction"},ee={class:"item"},ne=U(()=>e("div",{class:"induction-text"},"Rate",-1)),te={class:"induction-value induction-value-change"},se={key:0},ie={key:1},ae=U(()=>e("use",{"xlink:href":"#icon-a-icon-change2"},null,-1)),le=[ae],re={class:"item"},ue={class:"induction-text"},ce={class:"induction-value"},de=F(t("Confirm Remove"));function me(o,n,R,v,B,d){const p=uo,h=Ao("Modal");return i(),b(h,{width:"440px",visible:!0,footer:null,title:"You will receive",class:"remove-confirm-modal",onCancel:n[1]||(n[1]=A=>o.$emit("on-close"))},{closeIcon:E(()=>[Xo]),default:E(()=>[e("div",Eo,[e("div",Uo,[e("div",jo,[e("div",Wo,[e("img",{src:o.fromCoin.icon||o.importIcon(`/image/coins/${o.fromCoin.symbol.toLowerCase()}.png`)},null,8,zo),e("p",null,t(o.fromCoinAmount),1),Go,e("p",null,t(o.fromCoin.symbol),1)]),Ko,e("div",Jo,[e("img",{src:o.toCoin.icon||o.importIcon(`/image/coins/${o.toCoin.symbol.toLowerCase()}.png`)},null,8,Qo),e("p",null,t(o.toCoinAmount),1),Zo,e("p",null,t(o.toCoin.symbol),1)])]),e("div",Ho,[e("div",xo,"Output is estimated. if the price changes by more than "+t(o.slippage)+"% your transaction will revert.",1),e("div",oe,[e("div",ee,[ne,e("div",te,[o.rateChange?(i(),u("span",ie,"1 "+t(o.toCoin.symbol)+" \u2248 "+t(o.fixD(1/o.currentLpInfo.price,2))+" "+t(o.fromCoin.symbol),1)):(i(),u("span",se,"1 "+t(o.fromCoin.symbol)+" \u2248 "+t(o.fixD(o.currentLpInfo.price,2))+" "+t(o.toCoin.symbol),1)),(i(),u("svg",{class:"icon-change","aria-hidden":"true",onClick:n[0]||(n[0]=A=>o.rateChange=!o.rateChange)},le))])]),e("div",re,[e("div",ue,t(o.fromCoin.symbol)+" - "+t(o.toCoin.symbol)+" LP Burned",1),e("div",ce,t(o.burnValue),1)])])])])]),k(p,{class:"big-btn swap-confirm-btn",onClick:o.clickNextBtn},{default:E(()=>[de]),_:1},8,["onClick"])]),_:1})}const ve=ro(Yo,[["render",me],["__scopeId","data-v-0dc82e2b"]]),pe=no({setup(o,n){const R=Io(qo,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0}),v=Ro();K();const B=io(),d=T(()=>B),p=K(),h=T(()=>p);let A=l(!1),_=l(!1),$=l(!1),V=l(!1);const M=l(!1),O=l(!0),s=l(!0),y=l(""),S=l(""),I=l("50"),j=to(),vo=T(()=>j.slippage),w=l(C[v.currentRoute.value.query.from]||C.USDC),L=l(C[v.currentRoute.value.query.to]||C.USDT),r=l({}),W=l(""),J=l(""),po=T(()=>Number(y.value)?"Remove":"Enter an amount"),fo=()=>{M.value=!0,setTimeout(()=>{M.value=!1},1e3),d.value.address&&p.setMyLplist(d.value.address)},ho=[{name:"25%",value:25},{name:"50%",value:50},{name:"75%",value:75},{name:"MAX",value:100}],yo=()=>{const a=w.value;w.value=L.value,L.value=a,V.value=!0,setTimeout(()=>{V.value=!1},300)},go=a=>{a==="fromCoin"?(O.value=!0,y.value=w.value&&q(w.value.balance,r.value.coinA.value.decimals)||""):(O.value=!1,S.value=L.value&&q(L.value.balance,r.value.coinB.value.decimals)||"")},N=so();H(I,Bo((a,f)=>{if(I.value=a,a!==f){const m=Number(I.value)/100;I.value==="100"?z(r.value.balanceOrigin):z(G(r.value.balanceOrigin).mul(m).toString())}},500)),H(r,()=>{r.value&&z(G(r.value.balanceOrigin).mul(Number(I.value)/100).toString())});const z=async a=>{console.log("getAmount###val###",a);const f=oo(w.value.symbol,L.value.symbol);W.value=a,J.value=q(G(a).div(Math.pow(10,f.decimals)).toString(),f.decimals)||"";const m=l({});if(a!==""&&a!==0&&a!=="0"){if(m.value={coinX:C[w.value.symbol],coinY:C[L.value.symbol],liquidity:a},m.value)try{const c=await N.getCoinXYForLiquidity(m.value);y.value=q(c.coinXAmount,r.value.coinA.decimals)||"",S.value=q(c.coinYAmount,r.value.coinB.decimals)||""}catch(c){console.log("testGetCoinXYForLiquidityerr",c)}}else S.value="",y.value=""},P=l(!1),{setIsShowSuccess:Co,setIsShowRejected:Q,setIsShowWaiting:D,setTransactionDesc:bo,setTransactionTxid:Z}=j,_o=async()=>{console.log("toRemove222####"),_.value=!1,P.value=!0,Z(""),bo(`Removing ${y.value} ${r.value.coinA.symbol} and 
        ${S.value} ${r.value.coinB.symbol}`),D(!0);try{const a=l({});a.value={coinX:C[r.value.coinA.symbol],coinY:C[r.value.coinB.symbol],liquidity:parseInt(W.value),slippage:Number(j.slippage)/100},console.log(a.value,888999);const f=await N.removeLiquidityTransactionPayload(a.value);console.log("removeLiquidityTransactionPayload###result####",f);const m=await d.value.currentWallet.signAndSubmitTransaction(f);if(m&&m.hash){Z(m.hash),D(!1),Co(!0);const c={title:"Remove Liquidity",desc:`Removed ${y.value} ${r.value.coinA.symbol} and 
        ${S.value} ${r.value.coinB.symbol}`,hash:m.hash};N.showTransitionPending(c),await N.watchTransaction(c)&&setTimeout(()=>{console.log("remove \u6210\u529F\u540E\u91CD\u65B0\u8BF7\u6C42\u4E86\u5417###"),p.setMyLplist(d.value.address)},3e3)}else D(!1),Q(!0);P.value=!1}catch(a){console.log("Remove error",a),P.value=!1,D(!1),Q(!0)}};return x(async()=>{d.value.address&&p.setMyLplist(d.value.address)}),x(()=>{if(h.value.myLplist&&d.value.address){console.log("remove page watch###");const a=h.value.myLplist,f=v.currentRoute.value.query.from,m=v.currentRoute.value.query.to;let c;if(f&&m&&(c=oo(f,m)),console.log("remove page watch###currentLP####",c),c){const Y=a.filter($o=>$o.symbol===c.symbol)[0];console.log("remove page watch###info####",Y),(!c.balance||!Number(c.balance))&&(console.log("router####",v),v.push("/pools")),Y&&(r.value=Y)}}}),{loading:P,indicator:R,addCommom:Vo,fixD:lo,prettyAmount:Mo,liquidity:h,clickExchange:yo,change:V,fixedFromCoin:O,router:v,wallet:d,refresh:M,amountArr:ho,sliderVal:I,slippage:vo,importIcon:ao,clickRefresh:fo,isShowSwapSetting:A,fromCoin:w,toCoin:L,maxBtnSelect:go,fromCoinAmount:y,toCoinAmount:S,direct:s,rateChange:$,isShowRemoveModal:_,btnText:po,LP_TOKENS:Oo,currentLpInfo:r,selectLp:W,selectLpView:J,toRemove:_o}}});const g=o=>(co("data-v-330ff884"),o=o(),mo(),o),fe={class:"management-remove-liquidity"},he={class:"remove-liquidity-top"},ye=g(()=>e("div",{class:"remove-title"},"Remove Liquidity",-1)),ge={class:"right title-right"},Ce=g(()=>e("svg",{class:"icon","aria-hidden":"true"},[e("use",{"xlink:href":"#icon-a-icon-setslippage"})],-1)),be=g(()=>e("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),_e=[be],$e={class:"remove-liquidity-center"},Se={class:"bottom"},we={class:"add-amount"},Le={class:"add-amount-header"},ke=g(()=>e("span",null,"Amount",-1)),Ae={class:"amount-list"},Ie=["onClick"],qe={class:"slider-box"},Re={class:"card-container"},Be={class:"card-item"},Ve={class:"card-item"},Me={class:"induction remove-liquidity-bottom"},Oe={class:"item"},Te=g(()=>e("div",{class:"induction-text"},"Rate",-1)),Fe={key:0},Ne={key:0},Pe={key:1},De=g(()=>e("svg",{class:"icon-change","aria-hidden":"true"},[e("use",{"xlink:href":"#icon-a-icon-change2"})],-1)),Ye={key:0,"aria-hidden":"true"},Xe=g(()=>e("use",{"xlink:href":"#icon-icon-Remove"},null,-1)),Ee=[Xe],Ue={key:0,class:"showMyLiquidity"},je={class:"myLiquidity"},We=g(()=>e("div",{class:"left"},"Your Liquidity",-1)),ze={key:0,class:"right"},Ge={class:"liquidityAsset"},Ke={class:"item"},Je={class:"left"},Qe=["src"],Ze={key:0,class:"right"},He={class:"item"},xe={class:"left"},on=["src"],en={key:0,class:"right"},nn={class:"induction induction-liquidity"},tn={class:"item"},sn=g(()=>e("div",{class:"induction-text"},"Share of Pool",-1)),an={key:0,class:"induction-value"};function ln(o,n,R,v,B,d){const p=So,h=No,A=Po,_=wo,$=Do,V=uo,M=Lo,O=ve;return i(),u("div",fe,[k(p),e("div",he,[ye,e("div",ge,[e("div",{class:"slippage-icon",onClick:n[0]||(n[0]=s=>o.isShowSwapSetting=!0)},[Ce,e("span",null,t(o.slippage)+"%",1)]),(i(),u("svg",{"aria-hidden":"true",class:eo(o.refresh?"refresh refresh-icon ":"refresh-icon"),onClick:n[1]||(n[1]=(...s)=>o.clickRefresh&&o.clickRefresh(...s))},_e,2))])]),e("div",$e,[e("div",Se,[e("div",we,[e("div",Le,[ke,e("div",Ae,[(i(!0),u(To,null,Fo(o.amountArr,(s,y)=>(i(),u("div",{key:y,class:eo(["amount-item",o.sliderVal==s.value?"amount-item-active":""]),onClick:S=>o.sliderVal=s.value},t(s.name),11,Ie))),128))])]),e("div",qe,[k(h,{value:o.sliderVal,"onUpdate:value":n[2]||(n[2]=s=>o.sliderVal=s),oninput:"this.value = this.value.replace(/[^\\d.]/g,'');",suffix:"%"},null,8,["value"]),k(A,{value:o.sliderVal,"onUpdate:value":n[3]||(n[3]=s=>o.sliderVal=s)},null,8,["value"])])])])]),e("div",Re,[e("div",Be,[k(_,{modelValue:o.fromCoinAmount,"onUpdate:modelValue":n[4]||(n[4]=s=>o.fromCoinAmount=s),"has-arrow":!1,"input-disabled":!0,havemax:!1,"is-total":!0,"input-value":o.fromCoinAmount,"coin-name":o.fromCoin?o.fromCoin.symbol:null,balance:o.currentLpInfo.myCoinXAmount||null,"coin-icon":o.fromCoin?o.fromCoin.icon:"","swap-direction":"From",onOnMax:n[5]||(n[5]=s=>o.maxBtnSelect("fromCoin")),onOnInput:n[6]||(n[6]=s=>o.fromCoinAmount=s),onOnFocus:n[7]||(n[7]=()=>{o.fixedFromCoin=!0})},null,8,["modelValue","input-value","coin-name","balance","coin-icon"])]),e("div",Ve,[k(_,{modelValue:o.toCoinAmount,"onUpdate:modelValue":n[8]||(n[8]=s=>o.toCoinAmount=s),"has-arrow":!1,havemax:!1,"is-total":!0,"input-disabled":!0,"input-value":o.toCoinAmount,"coin-name":o.fromCoin?o.toCoin.symbol:"",balance:o.currentLpInfo.myCoinYAmount||null,"swap-direction":"To","coin-icon":o.toCoin?o.toCoin.icon:"",onOnMax:n[9]||(n[9]=s=>o.maxBtnSelect("toCoin")),onOnInput:n[10]||(n[10]=s=>o.toCoinAmount=s),onOnFocus:n[11]||(n[11]=()=>{o.fixedFromCoin=!1})},null,8,["modelValue","input-value","coin-name","balance","coin-icon"])])]),e("div",Me,[e("div",Oe,[Te,e("div",{class:"induction-value induction-value-change",onClick:n[12]||(n[12]=s=>o.rateChange=!o.rateChange)},[o.rateChange?(i(),u("span",Pe,"1 "+t(o.toCoin.symbol)+" \u2248 "+t(o.fixD(1/o.currentLpInfo.price,2))+" "+t(o.fromCoin.symbol),1)):(i(),u("span",Fe,[F(" 1 "+t(o.fromCoin.symbol)+" \u2248 ",1),o.currentLpInfo.price?(i(),u("span",Ne,t(o.fixD(o.currentLpInfo.price,2)),1)):(i(),b($,{key:1,indicator:o.indicator},null,8,["indicator"])),F(" "+t(o.toCoin.symbol),1)])),De])])]),k(V,{disabled:o.wallet.connected?!o.fromCoinAmount||!o.toCoinAmount||o.loading:!1,class:"remove-btn big-btn",onClick:n[13]||(n[13]=s=>o.wallet.connected?o.isShowRemoveModal=!0:o.wallet.setIsShowWalletModal(!0))},{default:E(()=>[o.wallet.connected?(i(),u("svg",Ye,Ee)):X("",!0),e("span",null,t(o.wallet.connected?o.btnText:"Connect Wallet"),1)]),_:1},8,["disabled"]),o.wallet.connected?(i(),u("div",Ue,[e("div",je,[We,o.currentLpInfo.myLpBalance?(i(),u("div",ze,[e("p",null,t(o.currentLpInfo.myLpBalance)+" LP",1),e("span",null,"\u2248 $"+t(o.addCommom(o.currentLpInfo.myBalanceUSD,2)),1)])):(i(),b($,{key:1,indicator:o.indicator},null,8,["indicator"]))]),e("div",Ge,[e("div",Ke,[e("div",Je,[e("img",{src:o.fromCoin.icon||o.importIcon(`/image/coins/${o.fromCoin.symbol.toLowerCase()}.png`),alt:""},null,8,Qe),e("span",null,t(o.fromCoin.symbol),1)]),o.currentLpInfo.myCoinXAmount?(i(),u("div",Ze,t(o.currentLpInfo.myCoinXAmount),1)):(i(),b($,{key:1,indicator:o.indicator},null,8,["indicator"]))]),e("div",He,[e("div",xe,[e("img",{src:o.toCoin.icon||o.importIcon(`/image/coins/${o.toCoin.symbol.toLowerCase()}.png`),alt:""},null,8,on),e("span",null,t(o.toCoin.symbol),1)]),o.currentLpInfo.myCoinYAmount?(i(),u("div",en,t(o.currentLpInfo.myCoinYAmount),1)):(i(),b($,{key:1,indicator:o.indicator},null,8,["indicator"]))])]),e("div",nn,[e("div",tn,[sn,o.currentLpInfo.myshareOfPool?(i(),u("div",an,t(o.currentLpInfo.myshareOfPool)+" %",1)):(i(),b($,{key:1,indicator:o.indicator},null,8,["indicator"]))])])])):X("",!0),o.isShowSwapSetting?(i(),b(M,{key:1,onOnClose:n[14]||(n[14]=s=>o.isShowSwapSetting=!1)})):X("",!0),o.isShowRemoveModal?(i(),b(O,{key:2,"liquidity-balance":o.selectLp,"fixed-from-coin":o.fixedFromCoin,"from-coin":o.currentLpInfo.coinA,"to-coin":o.currentLpInfo.coinB,"from-coin-amount":o.fromCoinAmount,"to-coin-amount":o.toCoinAmount,"burn-value":o.selectLpView,"current-lp-info":o.currentLpInfo,onOnClose:n[15]||(n[15]=s=>o.isShowRemoveModal=!1),onToRemove:o.toRemove},null,8,["liquidity-balance","fixed-from-coin","from-coin","to-coin","from-coin-amount","to-coin-amount","burn-value","current-lp-info","onToRemove"])):X("",!0)])}const vn=ro(pe,[["render",ln],["__scopeId","data-v-330ff884"]]);export{vn as default};
